<div>
  <h1 class="mat-title">{{state == 'new' || state == 'mnew' ? 'Add' : 'Edit'}} Hospital</h1>
</div>
<form class="mat-typography">
  <div class="row errorContainer removeMarginsPaddings" *ngIf="!isValid">
    <div class="col-sm-12">
      {{invalidText}}
    </div>
  </div>
  <div class="row mat-body">
    <div class="col-sm-6 form-group">
      <label for="firstName">Name<span class="required">*</span></label>
      <input type="text" id="firstName" class="form-control form-control-sm" [(ngModel)]="hospital.name" name="firstName" required>
    </div>
    <div class="col-sm-6 form-group">
      <label for="phone">Contact<span class="required">*</span></label>
      <input type="text" id="phone" maxlength="10" class="form-control form-control-sm" [(ngModel)]="hospital.phone" name="phone" onkeypress='return event.charCode >= 48 && event.charCode <= 57' required>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6 form-group">
      <label for="category">Category<span class="required">*</span></label>
      <select id="category" class="form-control form-control-sm" (change)="onCategoryChange($event)" required>
        <option [value]="item" [selected]="hospital.category == item" *ngFor="let item of categories" name="category">{{item}}</option>
      </select>
    </div>
    <div class="col-sm-6 form-group">
      <Label for="subcategory">Sub Category<span class="required">*</span></Label>
      <select id="subcategory" class="form-control form-control-sm" (change)="onSubcategoryChange($event)" required>
        <option [value]="item" [selected]="hospital.subcategory == item" *ngFor="let item of subCategories" name="subcategory">{{item}}</option>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6 form-group">
      <label for="address1">Address line 1<span class="required">*</span></label>
      <input type="text" id="address1" class="form-control form-control-sm" [(ngModel)]="hospital.addressLine1" name="addressLine1" required>
    </div>
    <div class="col-sm-6 form-group">
      <label for="address2">Address line 2</label>
      <input type="text" id="address2" class="form-control form-control-sm" [(ngModel)]="hospital.addressLine2" name="addressLine2">
    </div>
  </div>
  <div class="row">
    <div class="col-sm-3 form-group">
      <label for="city">City<span class="required">*</span></label>
      <input type="text" id="city" class="form-control form-control-sm" [(ngModel)]="hospital.city" name="city" required>
    </div>
    <div class="col-sm-3 form-group">
      <Label for="district">District<span class="required">*</span></Label>
      <select class="form-control form-control-sm" (change)="onDistrictChange($event)" required>
        <option [value]="item.name" [selected]="hospital.district == item.name" *ngFor="let item of districts" name="district">{{item.name}}</option>
      </select>
    </div>
    <div class="col-sm-3 form-group">
      <label for="province">Province<span class="required">*</span></label>
      <input type="text" id="province" class="form-control form-control-sm" [(ngModel)]="hospital.province" name="province" disabled required>
    </div>
    <div class="col-sm-3 form-group">
      <Label for="postal">Postal Code</Label>
      <input type="text" id="postal" class="form-control form-control-sm" [(ngModel)]="hospital.postalCode" name="postalCode">
    </div>
  </div>
  <div class="row">
    <div class="col-sm-3 form-group">
      <Label for="covidPatients">Covid Patients</Label>
      <input type="number" min="0" id="covidPatientCount" class="form-control form-control-sm" [(ngModel)]="hospital.covidPatientCount" name="covidPatientCount">
    </div>
    <div class="col-sm-3 form-group">
      <label for="discharged">Discharged Patients</label>
      <input type="number" id="discharged" class="form-control form-control-sm" [(ngModel)]="hospital.dischargedCovidPatientCount" name="dischargedCovidPatientCount">
    </div>
    <div class="col-sm-3 form-group">
      <label for="icuBedCount">ICU Beds</label>
      <input type="number" id="icuBedCount" class="form-control form-control-sm" [(ngModel)]="hospital.icuBedCount" name="icuBedCount">
    </div>
    <div class="col-sm-3 form-group">
      <label for="cost">Average Cost</label>
      <input type="number" step="0.1" id="cost" class="form-control form-control-sm" [(ngModel)]="hospital.costPerPatient" name="costPerPatient">
    </div>
  </div>
  <div class="row">
    <div class="col-sm-3 form-group">
      <Label for="oxygen">Available Oxygen</Label>
      <input type="number" step="0.1" id="oxygen" class="form-control form-control-sm" [(ngModel)]="hospital.availableOxygen" name="availableOxygen">
    </div>
    <div class="col-sm-3 form-group">
      <label for="doctors">Active Doctors</label>
      <input type="number" id="doctors" class="form-control form-control-sm" [(ngModel)]="hospital.activeDoctors" name="activeDoctors">
    </div>
    <div class="col-sm-3 form-group">
      <label for="nurses">Active Nurses</label>
      <input type="number" id="nurses" class="form-control form-control-sm" [(ngModel)]="hospital.activeNurses" name="activeNurses">
    </div>
    <div class="col-sm-3 form-group">
      <label for="ambulance">Active Ambulances</label>
      <input type="number" id="ambulance" class="form-control form-control-sm" [(ngModel)]="hospital.availableAmbulances" name="availableAmbulances">
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 form-group">
      <label for="wards">Ward/Room Description</label>
      <input type="text" id="wards" class="form-control form-control-sm" [(ngModel)]="hospital.wardDescription" name="wardDescription">
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 form-group">
      <label for="sanitary">Sanitary Details</label>
      <input type="text" id="sanitary" class="form-control form-control-sm" [(ngModel)]="hospital.sanitaryDetails" name="sanitaryDetails">
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 form-group">
      <label for="meals">Meals Details</label>
      <input type="text" id="meals" class="form-control form-control-sm" [(ngModel)]="hospital.mealsDetails" name="mealsDetails">
    </div>
  </div>
  <div class="row buttonRow">
    <div class="col-sm-8"></div>
    <div class="col-sm-2 form-group">
      <button class="btn btn-primary from-control form-control-sm modalButton" (click)="createHospital()">{{state == 'new' || state == 'mnew' ? 'Create' : 'Save'}}</button>
    </div>
    <div class="col-sm-2 form-group">
      <button class="btn btn-danger from-control form-control-sm modalButton" (click)="closeDialog()">Cancel</button>
    </div>
  </div>
</form>
